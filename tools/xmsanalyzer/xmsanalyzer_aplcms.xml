<tool id="xmsanalyzer_aplcms" name="xMSanalyzer using apLCMS" version="@TOOL_VERSION@+galaxy1">
    <macros>
        <import>xmsanalyzer_macros.xml</import>
    </macros>

    <requirements>
        <container type="docker">recetox/xmsanalyzer:2.0.6.1-recetox1</container>
    </requirements>
    <command detect_errors="aggressive"><![CDATA[
        #set file_str = str('", "').join([str($f) for $f in $files])

        Rscript
            -e 'x <- xMSanalyzer::xMSwrapper.apLCMS.Galaxy(c("$file_str"))'
            -e 'save(x, file = "$result")'
    ]]></command>
    <inputs>
        <param name="files" type="data" format="mzdata,mzml,mzxml,netcdf" multiple="true" 
        min="3" label="data" help="Mass spectrometry files for peak extraction."
        />
    </inputs>
    <outputs>
        <data name="result" format="Rda" />
    </outputs>
    <help><![CDATA[
        TODO: Fill in help.
    ]]></help>
</tool>